const translations = {
    'vi': {
        // Header
        'home': 'Trang chủ',
        'about': 'Giới thiệu',
        'menu': 'Thực đơn',
        'products': 'Sản phẩm',
        'review': 'Đánh giá',
        'contact': 'Liên hệ',
        'blog': 'Blog',

        // Cart
        'cart': 'Giỏ hàng',
        'cart_details': 'Chi tiết sản phẩm',
        'continue_shopping': 'Tiếp tục mua sắm',
        'order_summary': 'Tóm tắt đơn hàng',
        'quantity': 'Số lượng',
        'shipping_fee': 'Phí vận chuyển',
        'standard_shipping': 'Giao hàng tiêu chuẩn',
        'total_amount': 'Tổng tiền',
        'checkout': 'Thanh toán',
        'product': 'Sản phẩm',
        'unit_price': 'Đơn giá',
        'subtotal': 'Thành tiền',
        'remove': 'Xóa',
        'empty_cart': 'Giỏ hàng của bạn đang trống',

        // Checkout
        'checkout_title': 'Thanh toán',
        'shipping_info': 'Thông tin giao hàng',
        'full_name': 'Họ và tên',
        'phone': 'Số điện thoại',
        'email': 'Email',
        'address': 'Địa chỉ',
        'notes': 'Ghi chú (tùy chọn)',
        'payment_method': 'Phương thức thanh toán',
        'cod': 'Thanh toán khi nhận hàng (COD)',
        'bank_transfer': 'Chuyển khoản ngân hàng',
        'your_order': 'Đơn hàng của bạn',
        'place_order': 'Đặt hàng',
        'order_success': 'Đặt hàng thành công!',
        
        // Product details
        'product_details': 'Chi tiết sản phẩm',
        'add_to_cart': 'Thêm vào giỏ hàng',
        'products_title': 'Sản phẩm của chúng tôi',
        'review_title': 'Đánh giá khách hàng',
        // Other common translations
        'search': 'Tìm kiếm',
        'login': 'Đăng nhập',
        'register': 'Đăng ký',
        'logout': 'Đăng xuất',
        'profile': 'Tài khoản',

        // About
        'about_us': 'Giới thiệu về',
        'us': 'chúng tôi',
        'about_journey': 'Hành trình từ hạt đến tách cà phê hoàn hảo',
        'about_description_1': 'Chúng tôi tự hào mang đến những sản phẩm cà phê chất lượng cao...',
        'about_description_2': 'Với hơn 10 năm kinh nghiệm, LH Coffee không chỉ mang đến...',
        'learn_more': 'Tìm hiểu thêm',
        
        // New translations
        'coffee_slogan': 'Cà phê tươi sạch nhất Sài Gòn',
        'coffee_description': 'Tận hưởng hương vị đích thực từ những hạt cà phê được chọn lọc kỹ lưỡng từ cao nguyên Việt Nam. Mỗi tách cà phê là một hành trình khám phá đầy cảm xúc.',
        'get_yours': 'Mua ngay',
        'about_section': 'Giới thiệu',
        'about_us_span': 'về chúng tôi',
        'our_menu': 'Thực đơn',
        'menu_span': 'của chúng tôi',
        'traditional_coffee': 'Cà Phê Phin Truyền Thống',
        'traditional_coffee_desc': 'Hương vị đậm đà, đắng nhẹ và hậu vị ngọt sâu của cà phê rang xay truyền thống Việt Nam...',
        'manage_profile': 'Quản lý',
        'your_profile': 'Hồ sơ của bạn',
        'update_profile': 'Cập nhật hồ sơ',
        'profile_updated': 'Hồ sơ đã được cập nhật thành công!',
        'profile_error': 'Lỗi cập nhật hồ sơ',
        'profile_update_error': 'Đã xảy ra lỗi khi cập nhật hồ sơ.',
        'logout_success': 'Đăng xuất thành công!',
        'city': 'Thành phố',
        'postal_code': 'Mã bưu điện',
        'get_in_touch': 'Liên hệ với chúng tôi',
    },
    'en': {
        // Header
        'home': 'Home',
        'about': 'About',
        'menu': 'Menu',
        'products': 'Products',
        'review': 'Reviews',
        'contact': 'Contact',
        'blog': 'Blog',

        // Cart
        'cart': 'Shopping Cart',
        'cart_details': 'Product Details',
        'continue_shopping': 'Continue Shopping',
        'order_summary': 'Order Summary',
        'quantity': 'Quantity',
        'shipping_fee': 'Shipping Fee',
        'standard_shipping': 'Standard Shipping',
        'total_amount': 'Total Amount',
        'checkout': 'Checkout',
        'product': 'Product',
        'unit_price': 'Unit Price',
        'subtotal': 'Subtotal',
        'remove': 'Remove',
        'empty_cart': 'Your cart is empty',

        // Checkout
        'checkout_title': 'Checkout',
        'shipping_info': 'Shipping Information',
        'full_name': 'Full Name',
        'phone': 'Phone Number',
        'email': 'Email',
        'address': 'Address',
        'notes': 'Notes (optional)',
        'payment_method': 'Payment Method',
        'cod': 'Cash on Delivery (COD)',
        'bank_transfer': 'Bank Transfer',
        'your_order': 'Your Order',
        'place_order': 'Place Order',
        'order_success': 'Order placed successfully!',
        
        // Product details
        'product_details': 'Product Details',
        'add_to_cart': 'Add to Cart',
        'products_title': 'Our Products',
        'review_title': 'Customer Reviews',
        
        // Other common translations
        'search': 'Search',
        'login': 'Login',
        'register': 'Register',
        'logout': 'Logout',
        'profile': 'Profile',

        // About
        'about_us': 'About Us',
        'us': 'us',
        'about_journey': 'About Journey',
        'about_description_1': 'About Description 1',
        'about_description_2': 'About Description 2',
        'learn_more': 'Learn More',

        // New translations
        'coffee_slogan': 'Best Fresh Coffee in Saigon',
        'coffee_description': 'Experience the authentic flavor of high-quality coffee beans from the mountains of Vietnam. Each cup of coffee is a journey of discovery filled with emotion.',
        'get_yours': 'Get Yours',
        'about_section': 'About',
        'about_us_span': 'us',
        'our_menu': 'Our Menu',
        'menu_span': 'of Us',
        'traditional_coffee': 'Traditional Vietnamese Coffee',
        'traditional_coffee_desc': 'Rich, mellow, and deep flavor of traditional Vietnamese coffee...',
        'manage_profile': 'Manage',
        'your_profile': 'Your Profile',
        'update_profile': 'Update Profile',
        'profile_updated': 'Profile updated successfully!',
        'profile_error': 'Profile update error',
        'profile_update_error': 'An error occurred while updating the profile.',
        'logout_success': 'Logout successful!',
        'city': 'City',
        'postal_code': 'Postal Code',
        'get_in_touch': 'Get in touch',
    }
};

// Default language
let currentLanguage = localStorage.getItem('language') || 'vi';

// Translation function
function __(key) {
    return translations[currentLanguage][key] || key;
}

// Language switcher function
function switchLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);
        translatePage();
    }
}

// Translate all elements with data-i18n attribute
function translatePage() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (key) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                if (element.placeholder) {
                    element.placeholder = __(key);
                }
            } else {
                element.textContent = __(key);
            }
        }
    });
    
    // Also translate attributes like placeholders and titles
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        element.placeholder = __(element.getAttribute('data-i18n-placeholder'));
    });
    
    document.querySelectorAll('[data-i18n-title]').forEach(element => {
        element.title = __(element.getAttribute('data-i18n-title'));
    });
    
    // Update the language switcher UI
    document.querySelectorAll('.language-switcher').forEach(switcher => {
        switcher.querySelector('.current-language').textContent = currentLanguage.toUpperCase();
    });
}

// Initialize translation when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    translatePage();
});
