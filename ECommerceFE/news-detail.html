<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/notification.css" />
    <link rel="stylesheet" href="css/news-detail.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <title>Chi tiết tin tức - LH Coffee</title>
    <meta
      name="description"
      content="Đọc tin tức mới nhất về cà phê và các hoạt động của LH Coffee."
    />
  </head>

  <body>
    <!-- Header Container -->
    <div id="header-container"></div>

    <!-- Hero Banner -->
    <div class="news-hero" id="news-hero">
      <div class="hero-overlay"></div>
      <div class="container">
        <h1 class="hero-title" data-aos="fade-up">Chi tiết tin tức</h1>
        <nav aria-label="breadcrumb" data-aos="fade-up" data-aos-delay="100">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li>
            <li class="breadcrumb-item">
              <a href="index-blog.html">Tin tức</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Chi tiết tin tức
            </li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- News Detail Section Starts -->
    <section class="news-detail" id="news-detail">
      <div class="container" id="news-detail-container" data-aos="fade-up">
        <!-- News detail will be dynamically loaded here -->
        <div class="loading">
          <div class="spinner"></div>
        </div>
      </div>
    </section>
    <!-- News Detail Section Ends -->

    <!-- Author & Share Section Starts -->
    <section class="author-share-section">
      <div class="container" data-aos="fade-up">
        <div class="section-wrapper">
          <div class="author-info">
            <div class="author-image">
              <img src="img/review-1.jpg" alt="Tác giả" id="author-image" />
            </div>
            <div class="author-details">
              <h3 id="author-name">Tên tác giả</h3>
              <p id="author-bio">
                Thông tin về tác giả sẽ được hiển thị ở đây.
              </p>
              <div class="author-social">
                <a href="#" title="Facebook"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" title="LinkedIn"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
              </div>
            </div>
          </div>
          <div class="share-wrapper">
            <h3>Chia sẻ bài viết</h3>
            <div class="share-buttons">
              <a href="#" class="facebook" title="Chia sẻ trên Facebook">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="twitter" title="Chia sẻ trên Twitter">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="pinterest" title="Chia sẻ trên Pinterest">
                <i class="fab fa-pinterest-p"></i>
              </a>
              <a href="#" class="linkedin" title="Chia sẻ trên LinkedIn">
                <i class="fab fa-linkedin-in"></i>
              </a>
              <a href="#" class="email" title="Chia sẻ qua email">
                <i class="fas fa-envelope"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Share Section Ends -->

    <!-- Related News Section Starts -->
    <section class="related-news" id="related-news">
      <h1 class="section-title" data-aos="fade-up">
        Tin Tức <span>Liên Quan</span>
      </h1>
      <div
        class="box-container"
        id="related-news-container"
        data-aos="fade-up"
        data-aos-delay="100"
      >
        <!-- Related news will be dynamically loaded here -->
        <div class="loading">
          <div class="spinner"></div>
        </div>
      </div>
      <div class="view-all-button" data-aos="fade-up" data-aos-delay="200">
        <a href="index-blog.html" class="btn"
          >Xem tất cả tin tức <i class="fas fa-arrow-right"></i
        ></a>
      </div>
    </section>
    <!-- Related News Section Ends -->

    <!-- Newsletter Section Starts -->
    <section class="newsletter-section" data-aos="fade-up">
      <div class="container">
        <div class="newsletter-wrapper">
          <div class="newsletter-content">
            <h2>Đăng ký nhận tin</h2>
            <p>
              Đăng ký để nhận thông tin mới nhất về sản phẩm, khuyến mãi và các
              bài viết hữu ích từ LH Coffee.
            </p>
          </div>
          <form class="newsletter-form">
            <input type="email" placeholder="Nhập email của bạn" required />
            <button type="submit" class="btn">Đăng ký</button>
          </form>
        </div>
      </div>
    </section>
    <!-- Newsletter Section Ends -->

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>

    <!-- Back to Top Button -->
    <button id="back-to-top" title="Lên đầu trang">
      <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Script Links -->
    <script src="js/config.js"></script>
    <script src="js/app.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/news-detail.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      // Khởi tạo UI khi trang đã tải xong
      document.addEventListener("DOMContentLoaded", () => {
        // Khởi tạo UI
        if (typeof UI !== "undefined") {
          UI.init();
        }

        // Khởi tạo thư viện AOS
        AOS.init({
          duration: 800,
          easing: "ease",
          once: true,
        });

        // Khởi tạo nút Back to Top
        initBackToTop();

        // Khởi tạo chức năng chia sẻ
        initShareButtons();

        // Thiết lập banner hero
        setupHeroBanner();
      });

      // Hàm khởi tạo nút Back to Top
      function initBackToTop() {
        const backToTopButton = document.getElementById("back-to-top");

        // Hiển thị nút khi người dùng cuộn xuống
        window.addEventListener("scroll", () => {
          if (window.pageYOffset > 300) {
            backToTopButton.classList.add("show");
          } else {
            backToTopButton.classList.remove("show");
          }
        });

        // Xử lý sự kiện khi nhấp vào nút
        backToTopButton.addEventListener("click", () => {
          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });
        });
      }

      // Hàm khởi tạo chức năng chia sẻ
      function initShareButtons() {
        const shareButtons = document.querySelectorAll(".share-buttons a");

        shareButtons.forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();

            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent(document.title);

            let shareUrl;

            if (this.classList.contains("facebook")) {
              shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
            } else if (this.classList.contains("twitter")) {
              shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;
            } else if (this.classList.contains("pinterest")) {
              const img = document.querySelector(".news-feature-image img");
              const imgUrl = img ? encodeURIComponent(img.src) : "";
              shareUrl = `https://pinterest.com/pin/create/button/?url=${url}&media=${imgUrl}&description=${title}`;
            } else if (this.classList.contains("linkedin")) {
              shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
            } else if (this.classList.contains("email")) {
              shareUrl = `mailto:?subject=${title}&body=Kiểm tra bài viết này: ${url}`;
            }

            if (shareUrl) {
              window.open(shareUrl, "_blank", "width=600,height=400");
            }
          });
        });
      }

      // Hàm thiết lập banner hero
      function setupHeroBanner() {
        // Sử dụng hình ảnh từ bài viết nếu có
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (mutation.type === "childList") {
              const featureImage = document.querySelector(
                ".news-feature-image img"
              );
              const heroDiv = document.getElementById("news-hero");

              if (featureImage && heroDiv) {
                const imgSrc = featureImage.src;
                heroDiv.style.backgroundImage = `url(${imgSrc})`;
                observer.disconnect();
              }
            }
          });
        });

        observer.observe(document.getElementById("news-detail-container"), {
          childList: true,
          subtree: true,
        });
      }
    </script>
  </body>
</html>
